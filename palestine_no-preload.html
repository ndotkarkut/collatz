<!DOCTYPE html>
<html>
  <head>
    <title>Palestine XR</title>
    <meta name="description" content="Palestine XR">
    <script src="https://aframe.io/releases/0.9.2/aframe.min.js"></script>
    
    <!-- slice9: Create panels and backgrounds. -->
    <script src="https://unpkg.com/aframe-slice9-component@1.0.0/dist/aframe-slice9-component.min.js"></script>
    <!-- layout: Arrange and position entities automatically. -->
    <script src="https://unpkg.com/aframe-layout-component@5.3.0/dist/aframe-layout-component.min.js"></script>
    <!-- environment: Pretty stage presets. -->
    <script src="https://unpkg.com/aframe-environment-component@2.0.0/dist/aframe-environment-component.min.js"></script>
    <!-- proxy-event: Declaratively capture and event and reroute it to another entity. -->
    <script src="https://unpkg.com/aframe-proxy-event-component@2.1.0/dist/aframe-proxy-event-component.min.js"></script>
    <!-- render-order: Control rendering order for transparent objects. -->
    <script src="https://unpkg.com/aframe-render-order-component@1.0.0/dist/aframe-render-order-component.min.js"></script>
    <!-- state: Manage application state and bind it to parts of the application to automatically react to state changes. -->
    <script src="https://unpkg.com/aframe-state-component@6.6.0/dist/aframe-state-component.min.js"></script>
    <script src="https://unpkg.com/aframe-event-set-component@5/dist/aframe-event-set-component.min.js"></script>
    <script src="video-controls.js"></script>
    
    <!-- State definition. -->
    <script src="state.js"></script>
    
    <!-- Application components. -->
    
    <script src="environment-changer.js"></script>
    <script>AFRAME.registerComponent('raycastable', {});</script>
    
    <!--<script>
    AFRAME.registerComponent('videohandler',{
      init: functon(){
       let el = this.el;
       let playing = false;
       let vid = document.querySelector("a-video");
       vid.pause();
       el.addEventListener('click', () => {

       if(!playing) {
          vid.play();
       } else {
          vid.pause();
       }
       playing = !playing;
       });
       }
      }
    );</script>-->
    
    <script>
    AFRAME.registerComponent('audiohandler', {
       init:function() {
       let playing = false;
       let audio = this.el.components.sound;
      

       this.el.addEventListener('click', () => {

       if(!playing) {
          audio.playSound();
       } else {
          audio.pauseSound();

       }
       playing = !playing;
       });
       }
       })</script>
  </head>
  <body>
    <a-scene render-order="menuBackground, menuItem, button">
      <a-assets>
        <!-- Images -->
        <img id="mapIsrael" src="https://cdn.glitch.com/30c85152-7785-4a8c-8ec4-b836bad15a17%2Fkisspng-israel-map-clip-art-5ae46d5a1d12c6.1217121415249196421191.png">
        <img id="pin_src" src="https://cdn.glitch.com/30c85152-7785-4a8c-8ec4-b836bad15a17%2Fgoogle%20maps%20pin.png?v=1560355609764">
        <img id="jerusalem-menu" crossorigin="anonymous" src="https://cdn.glitch.com/30c85152-7785-4a8c-8ec4-b836bad15a17%2Fjeruselam.png?1559591870240">
        <img id="bethlehem-menu" crossorigin="anonymous" src="https://cdn.glitch.com/30c85152-7785-4a8c-8ec4-b836bad15a17%2FBethlehem.png?1559591869927">
        <img id="ramallah-menu" crossorigin="anonymous" src="https://cdn.glitch.com/30c85152-7785-4a8c-8ec4-b836bad15a17%2FRamallah.png?1559591870567">
        <img id="jericho-menu" crossorigin="anonymous" src="https://cdn.glitch.com/30c85152-7785-4a8c-8ec4-b836bad15a17%2FJericho.png?1559591871073">
        <img id="dsm-menu" crossorigin="anonymous" src="https://cdn.glitch.com/30c85152-7785-4a8c-8ec4-b836bad15a17%2Fdeadseamountains.png?1559591868735">
        <img id="hebron-menu" crossorigin="anonymous" src="https://cdn.glitch.com/30c85152-7785-4a8c-8ec4-b836bad15a17%2Fhebron.png?1559591869493">
        <img id="qalqilya-menu" crossorigin="anonymous" src="https://cdn.glitch.com/30c85152-7785-4a8c-8ec4-b836bad15a17%2Fqalqiliya.png?1559591868847">
        <img id="qalandia-menu" crossorigin="anonymous" src="https://cdn.glitch.com/30c85152-7785-4a8c-8ec4-b836bad15a17%2Fqalandia.png?1559591870612">
        <img id="kafr-qaddam-menu" crossorigin="anonymous" src="https://cdn.glitch.com/30c85152-7785-4a8c-8ec4-b836bad15a17%2Fkfar%20Qaddum.png?1559591869053">
        <img id="tel-aviv-menu" crossorigin="anonymous" src="https://cdn.glitch.com/30c85152-7785-4a8c-8ec4-b836bad15a17%2Ftelaviv.png?1559591870508">
        
        <!-- Assets .obj and .mtl used to materialize the Quito mountain model-->
        <a-asset-item id="mount-obj" src="https://cdn.glitch.com/30c85152-7785-4a8c-8ec4-b836bad15a17%2Flowpolymountains-1.obj?1559326651212"></a-asset-item>
        <a-asset-item id="mount-mtl" src="https://cdn.glitch.com/30c85152-7785-4a8c-8ec4-b836bad15a17%2Flowpolymountains-1.mtl?1559326651149"></a-asset-item> 
      
        <!-- Asset image template 
        <img id="" src="">

-->
        <!-- Background environment-->
        <!-- Quito -->
        <img id="quito" src="https://cdn.glitch.com/30c85152-7785-4a8c-8ec4-b836bad15a17%2Fquito.jpg?1559232061272">
        
        <!-- Bethlehem-->
        <audio id="wall-talk1" src="https://cdn.glitch.com/30c85152-7785-4a8c-8ec4-b836bad15a17%2Fwall-convo1gain.mp3?v=1560792572044"></audio>
        <audio id="wall-talk2" src="https://cdn.glitch.com/30c85152-7785-4a8c-8ec4-b836bad15a17%2Fwall-convo2gain.mp3?v=1560792571395"></audio>
        <audio id="wall-talk3" src="https://cdn.glitch.com/30c85152-7785-4a8c-8ec4-b836bad15a17%2Fwall-convo3gain.mp3?v=1560792571802"></audio>
        <!-- Hebron -->
        <audio id="hebron-audio" src="https://cdn.glitch.com/30c85152-7785-4a8c-8ec4-b836bad15a17%2Fhebron_audio.mp3?v=1560879828934"></audio>
        
        <!-- Base mixins-->
        <a-mixin id="font" text="font: roboto"></a-mixin>
        <a-mixin id="textbox" geometry="primitive: plane; height: 0.2; width: 0.5" material="color: black"></a-mixin>
        
        <!-- Button mixins-->
        <a-mixin id="buttonBackground" mixin="textbox" ></a-mixin>
        <a-mixin 
          id="buttonHoverEffect"
          animation__mouseenter="property: components.material.material.color; type: color; from: #030303; to: #333; easing: easeOutCubic; dur: 150; startEvents: mouseenter"
          animation__mouseleave="property: components.material.material.color; type: color; from: #333; to: #030303; easing: easeOutCubic; dur: 150; startEvents: mouseleave"></a-mixin>
        <a-mixin id="buttonText" mixin="font" text="align: center; width: 2.5; zOffset: 0.01; color: white"></a-mixin>
        <a-mixin id="button" mixin="buttonBackground buttonHoverEffect buttonText" render-order="button" proxy-event="event: click; to: a-scene; captureBubbles: true"></a-mixin>
        <a-mixin id="pageButton" geometry="primitive: plane; width: 0.15; height: 0.15" material="src: #pin_src; shader: flat; transparent: true" environment-changer="setBackground: minimap"
                 animation__mouseenter="property: components.material.material.color; type: color; from: #FFF; to: #AAF; dur: 100; startEvents: mouseenter"
                 animation__mouseleave="property: components.material.material.color; type: color; from: #AAF; to: #FFF; dur: 100; startEvents: mouseleave"></a-mixin>
        <a-mixin id="minimap" geometry="primitive: plane; height: 3; width: 3" position="2.5 1 -5" rotation="0 -33 0" ></a-mixin>
      
        <a-mixin id="audioButton" geometry="primitive: cylinder; radius: 0.5; height: 0.5" rotation="-90 -57 0" material="color: red; shader: flat"
                 animation__mouseenter="property: geometry.height; from: 0.5; to: 0.25; dur: 100; startEvents: mouseenter"
                 animation__mouseleave="property: geometry.height; from: 0.25; to: 0.5; dur: 100; startEvents: mouseleave"></a-mixin>
        
        <video id="jericho_vid" src="https://cdn.glitch.com/30c85152-7785-4a8c-8ec4-b836bad15a17%2FVID_20190124_101544.mp4?v=1560870728010"></video>
      
      </a-assets>
      
       <!--<a-entity bind__visible= "menu === 'main'"
                 environment=
                  "preset:starry; 
                   ground: noise; 
                   playArea: 0.95; 
                   groundYScale: 5; 
                   grid: none;
                   gridColor: #ffffff;
                   groundColor: #181728;
                   "></a-entity>
      -->
      <a-sky id="image-360" radius="1000" material="src: starry">
      </a-sky>
      
      <!-- Main Menu Design-->
   
    
  
      <!-- Menu Container-->
      <a-entity id="menu" position="0 1.6 -4" bind__visible="background === 'main'">
        <a-image id="menuBackground" src="#mapIsrael" height="10.6" width="5" render-order="menuBackground" bind__visible="menu !== 'quito'"></a-image>
        
        <!-- Main menu & balloons -->
        <a-entity id="mainMainMenu" >
        <a-entity id="ballon1" gltf-model="https://cdn.glitch.com/f79ddd59-8297-4821-9074-4fab328ff4c7%2Fballon.glb?1545418529948" 
                scale="5 5 5" position="-6 4 -6" rotation="0 180 0" ></a-entity>
        <a-entity id="ballon2" gltf-model="https://cdn.glitch.com/f79ddd59-8297-4821-9074-4fab328ff4c7%2Fballon.glb?1545418529948" 
                scale="5 5 5" rotation="0 40 0" position="6 4 -6" ></a-entity>
       <a-entity bind__environment="active: background === 'main'" position="0 -2 0" environment="preset: starry;  ground: noise; playArea: 0.95; groundYScale: 5; grid: 2x2;
                              gridColor: #ffffff groundColor: #181728"></a-entity>
        <a-entity light="color: #b0c7ea; decay: 3; distance: 50; intensity: 1.2; type: point" position="0 1 -9"></a-entity>
        </a-entity>
        
        <!-- Main menu. --> 
        <a-mixin id="buttonMain" mixin="button" bind-toggle__raycastable="menu !== 'quito'"></a-mixin>
        <a-entity id="mainMenu" bind__visible="menu !== 'quito'">
          <a-entity id="title" text="value: Palestine; color: #FAFAFA; width: 7; align: center" position="0 4.4 0.01" render-order="menuItem"></a-entity>
          
          <a-entity class="buttons" position="0 0 0.01">
            <a-entity mixin="buttonMain" text="value: Jerusalem" proxy-event="as: menuJerusalem" position="-0.1 1 0"></a-entity>
            <a-entity mixin="buttonMain" text="value: Bethlehem" proxy-event="as: menuBethlehem" position="0 .8 0"></a-entity>
            <a-entity mixin="buttonMain" text="value: Ramallah" proxy-event="as: menuRamallah" position="0.2 2.7 0"></a-entity>
            <a-entity mixin="buttonMain" text="value: Jericho" proxy-event="as: menuJericho" position="0.2 1.9 0"></a-entity>
            <a-entity mixin="buttonMain" text="value: Dead Sea Mountains" proxy-event="as: menuDeadsea" position="0 0 0"></a-entity>
            <a-entity mixin="buttonMain" text="value: Hebron" proxy-event="as: menuHebron" position="-.3 0.5 0"></a-entity>
            <a-entity mixin="buttonMain" text="value: Qalqilya" proxy-event="as: menuQalqilya" position="-1.5 0 0"></a-entity>
            <a-entity mixin="buttonMain" text="value: Qalandia" proxy-event="as: menuQalandia" position="-0.15 1.4 0"></a-entity>
            <a-entity mixin="buttonMain" text="value: Tel Aviv" proxy-event="as: menuTelaviv" position="-0.9 1.9 0"></a-entity>
            <a-entity mixin="buttonMain" text="value: Kafr Qaddam" proxy-event="as: menuKafr" position="-0.2 2.9 0"></a-entity>
          </a-entity>
        </a-entity>
      </a-entity>
        
      <a-entity id="menuBack" mixin="button" text="value: Back to Main Menu" scale="1.5 1.5 1.5" rotation="-90 0 0" position="0 -0.6 0.25" proxy-event="event: click; to: a-scene; as:menuBack" bind-toggle__raycastable="background !== 'main'" bind__visible="background !== 'main'" render-order="menuItem"></a-entity>
      <a-entity id="mapShow" mixin="button" text="value: Show Map" scale="1.5 1.5 1.5" rotation="-90 0 0" position="0 -0.6 -2.25" bind-toggle__raycastable="background === 'minimap'" bind__visible="background === 'minimap'" environment-changer></a-entity>
      
        <!-- Environment Menu. -->
        <a-entity id="bethlehemMenu" mixin="minimap" material="shader: flat; src: #bethlehem-menu" bind__visible="menu === 'bethlehem' && background !== 'minimap'">
          <a-entity class="buttons">
              <a-entity mixin="pageButton" position="0 0.55 0.02" event-set__click="_target: #image-360; _delay: 300; material.src: https://cdn.glitch.com/30c85152-7785-4a8c-8ec4-b836bad15a17%2Fpano%20-%20Copyss4535.jpg?v=1560285810621" bind-toggle__raycastable="menu === 'bethlehem'" environment-changer></a-entity>
              <a-entity mixin="pageButton" position="1 0.25 0.02" event-set__click="_target: #image-360; _delay: 300; material.src: https://cdn.glitch.com/30c85152-7785-4a8c-8ec4-b836bad15a17%2Fpano%20-%20Copywhaz.jpg?v=1560285813150" bind-toggle__raycastable="menu === 'bethlehem'" environment-changer></a-entity>
              <a-entity mixin="pageButton" position="1 0.55 0.02" event-set__click="_target: #image-360; _delay: 300; material.src: https://cdn.glitch.com/30c85152-7785-4a8c-8ec4-b836bad15a17%2Fpano%20(3).jpg?v=1560285818058" bind-toggle__raycastable="menu === 'bethlehem'" environment-changer></a-entity>
              <a-entity mixin="pageButton" position="0 0.25 0.02" event-set__click="_target: #image-360; _delay: 300; material.src: https://cdn.glitch.com/30c85152-7785-4a8c-8ec4-b836bad15a17%2Fpano3.jpg?v=1560534603883" bind-toggle__raycastable="menu === 'bethlehem'" environment-changer="setBackground: bethlehem">
                <a-entity mixin="audioButton" position="3.5 0.25 2" sound="src: https://cdn.glitch.com/30c85152-7785-4a8c-8ec4-b836bad15a17%2Fwall-convo1.mp3?v=1560787019983" audiohandler bind-toggle__raycastable="background === 'bethlehem'" bind__visible="background === 'bethlehem'"></a-entity>
                <a-entity mixin="audioButton" position="5 0.25 3" sound="src: https://cdn.glitch.com/30c85152-7785-4a8c-8ec4-b836bad15a17%2Fwall-convo2.mp3?v=1560787020093" audiohandler bind-toggle__raycastable="background === 'bethlehem'" bind__visible="background === 'bethlehem'"></a-entity>
                <a-entity mixin="audioButton" position="6.5 0.25 4" sound="src: https://cdn.glitch.com/30c85152-7785-4a8c-8ec4-b836bad15a17%2Fwall-convo3.mp3?v=1560787019716" audiohandler bind-toggle__raycastable="background === 'bethlehem'" bind__visible="background === 'bethlehem'"></a-entity>
            </a-entity>
          </a-entity>
        </a-entity>
      
    
        <a-entity id="ramallahMenu" mixin="minimap" material="shader: flat; src: #ramallah-menu" bind__visible="menu === 'ramallah' && background !== 'minimap'">
          <a-entity class="buttons">
              <a-entity mixin="pageButton" position="0 0.55 0.02" event-set__click="_target: #image-360; _delay: 300; material.src: https://cdn.glitch.com/30c85152-7785-4a8c-8ec4-b836bad15a17%2Fpano%20(1)%20(2).jpg?v=1560354411994" bind-toggle__raycastable="menu === 'ramallah'"></a-entity>
              <a-entity mixin="pageButton" position="1 0.25 0.02" event-set__click="_target: #image-360; _delay: 300; material.src: https://cdn.glitch.com/30c85152-7785-4a8c-8ec4-b836bad15a17%2Fpano%209.jpg?v=1560354421472" bind-toggle__raycastable="menu === 'ramallah'"></a-entity>
              <a-entity mixin="pageButton" position="1 0.55 0.02" event-set__click="_target: #image-360; _delay: 300; material.src: https://cdn.glitch.com/30c85152-7785-4a8c-8ec4-b836bad15a17%2Fpano%2013.jpg?v=1560354423549" bind-toggle__raycastable="menu === 'ramallah'"></a-entity>
              <a-entity mixin="pageButton" position="0 0.25 0.02" event-set__click="_target: #image-360; _delay: 300; material.src: https://cdn.glitch.com/30c85152-7785-4a8c-8ec4-b836bad15a17%2Fpano%207.jpg?v=1560354424559" bind-toggle__raycastable="menu === 'ramallah'"></a-entity>
              <a-entity mixin="pageButton" position="0 0 0.02" event-set__click="_target: #image-360; _delay: 300; material.src: https://cdn.glitch.com/30c85152-7785-4a8c-8ec4-b836bad15a17%2Fpano%2014.jpg?v=1560354425007" bind-toggle__raycastable="menu === 'ramallah'"></a-entity>
              <a-entity mixin="pageButton" position="1 0 0.02" event-set__click="_target: #image-360; _delay: 300; material.src: https://cdn.glitch.com/30c85152-7785-4a8c-8ec4-b836bad15a17%2Fpanoslowmarketgreyday.jpg?v=1560354434303" bind-toggle__raycastable="menu === 'ramallah'"></a-entity>
              <a-entity mixin="pageButton" position="0 -0.55 0.02" event-set__click="_target: #image-360; _delay: 300; material.src: https://cdn.glitch.com/30c85152-7785-4a8c-8ec4-b836bad15a17%2Fpanoarafatsq%20(1).jpg?v=1560354469421" bind-toggle__raycastable="menu === 'ramallah'"></a-entity>
              <a-entity mixin="pageButton" position="1 -0.25 0.02" event-set__click="_target: #image-360; _delay: 300; material.src: https://cdn.glitch.com/30c85152-7785-4a8c-8ec4-b836bad15a17%2Fpano%20(5).jpg?v=1560354474729" bind-toggle__raycastable="menu === 'ramallah'"></a-entity>
              <a-entity mixin="pageButton" position="-1 -0.55 0.02" event-set__click="_target: #image-360; _delay: 300; material.src: https://cdn.glitch.com/30c85152-7785-4a8c-8ec4-b836bad15a17%2Fpano%202.jpg?v=1560354483347" bind-toggle__raycastable="menu === 'ramallah'"></a-entity>
              <a-entity mixin="pageButton" position="0 -0.8 0.02" event-set__click="_target: #image-360; _delay: 300; material.src: https://cdn.glitch.com/30c85152-7785-4a8c-8ec4-b836bad15a17%2Fpano%2010.jpg?v=1560354487901" bind-toggle__raycastable="menu === 'ramallah'"></a-entity>
              <a-entity mixin="pageButton" position="-1 0.8 0.02" event-set__click="_target: #image-360; _delay: 300; material.src: https://cdn.glitch.com/30c85152-7785-4a8c-8ec4-b836bad15a17%2Fpano%204.jpg?v=1560354488056" bind-toggle__raycastable="menu === 'ramallah'"></a-entity>
              <a-entity mixin="pageButton" position="-1 -0.8 0.02" event-set__click="_target: #image-360; _delay: 300; material.src: https://cdn.glitch.com/30c85152-7785-4a8c-8ec4-b836bad15a17%2Fpano%2011.jpg?v=1560354494381" bind-toggle__raycastable="menu === 'ramallah'"></a-entity>
              <a-entity mixin="pageButton" position="0 -.8 0.02" event-set__click="_target: #image-360; _delay: 300; material.src: https://cdn.glitch.com/30c85152-7785-4a8c-8ec4-b836bad15a17%2Fpanoarmun.jpg?v=1560354511298" bind-toggle__raycastable="menu === 'ramallah'"></a-entity>
              <a-entity mixin="pageButton" position="-1 -0.25 0.02" event-set__click="_target: #image-360; _delay: 300; material.src: https://cdn.glitch.com/30c85152-7785-4a8c-8ec4-b836bad15a17%2Fpano%20(2)%20(1).jpg?v=1560354514136" bind-toggle__raycastable="menu === 'ramallah'"></a-entity>
              <a-entity mixin="pageButton" position="-1 0 0.02" event-set__click="_target: #image-360; _delay: 300; material.src: https://cdn.glitch.com/30c85152-7785-4a8c-8ec4-b836bad15a17%2Fpano%20(1)%20(1)%20(1).jpg?v=1560354515287" bind-toggle__raycastable="menu === 'ramallah'"></a-entity>
          </a-entity>
        </a-entity>
      
        <a-entity id="jerichoMenu" mixin="minimap" material="shader: flat; src: #jericho-menu" bind__visible="menu === 'jericho' && background !== 'minimap'">
          <a-entity class="buttons">
              <a-entity mixin="pageButton" position="0 0.55 0.02" event-set__click="_target: #image-360; _delay: 300; material.src: https://cdn.glitch.com/30c85152-7785-4a8c-8ec4-b836bad15a17%2Fpano_left.jpg?v=1560455844435" bind-toggle__raycastable="menu === 'jericho'">
              <a-video src="#jericho_vid" position="0 0 8" rotation="-57 180 0" videohandler bind-toggle__raycastable="menu === 'jericho'"></a-video></a-entity>
          </a-entity>
        </a-entity>
      
        <a-entity id="deadseaMenu" mixin="minimap" material="shader: flat; src: #dsm-menu" bind__visible="menu === 'deadsea' && background !== 'minimap'">
          <a-entity class="buttons">
              <!--<a-entity mixin="button" text="value: Bethlehem; opacity: 0" position="0 0.55 0.02" bind-toggle__raycastable="menu === 'bethlehem'"></a-entity>
              <a-entity mixin="button" text="value: Bethlehem2; opacity: 0" position="0 0.25 0.02"></a-entity>-->
          </a-entity>
        </a-entity>
      
        <a-entity id="hebronMenu" mixin="minimap" material="shader: flat; src: #hebron-menu" bind__visible="menu === 'hebron' && background !== 'minimap'">
          <a-entity class="buttons">
              <a-entity mixin="pageButton" position="0 0.55 0.02" event-set__click="_target: #image-360; _delay: 300; material.src: https://cdn.glitch.com/30c85152-7785-4a8c-8ec4-b836bad15a17%2Fpano_leftblurrnightmarket.jpg?v=1560347470415" bind-toggle__raycastable="menu === 'hebron'"></a-entity>
              <a-entity mixin="pageButton" position="1 0.25 0.02" event-set__click="_target: #image-360; _delay: 300; material.src: https://cdn.glitch.com/30c85152-7785-4a8c-8ec4-b836bad15a17%2Fpano%20cmosqqopy%20(1).jpg?v=1560347473563" bind-toggle__raycastable="menu === 'hebron'"></a-entity>
              <a-entity mixin="pageButton" position="1 0.55 0.02" event-set__click="_target: #image-360; _delay: 300; material.src: https://cdn.glitch.com/30c85152-7785-4a8c-8ec4-b836bad15a17%2Foldcitypano_right.jpg?v=1560347475669" bind-toggle__raycastable="menu === 'hebron'" environment-changer="setBackground: hebron">
                  <a-entity mixin="audioButton"  position="3.5 0.25 2" sound="src: https://cdn.glitch.com/30c85152-7785-4a8c-8ec4-b836bad15a17%2Fhebron_audio.mp3?v=1560879828934" audiohandler bind-toggle__raycastable="background === 'hebron'" bind__visible="background === 'hebron'"></a-entity></a-entity> 
              <a-entity mixin="pageButton" position="0 0.25 0.02" event-set__click="_target: #image-360; _delay: 300; material.src: https://cdn.glitch.com/30c85152-7785-4a8c-8ec4-b836bad15a17%2Fpano_left%20copy456.jpg?v=1560347479887" bind-toggle__raycastable="menu === 'hebron'"></a-entity>
          </a-entity>
        </a-entity>
      
        <a-entity id="qalqilyaMenu" mixin="minimap" material="shader: flat; src: #qalqilya-menu" bind__visible="menu === 'qalqilya' && background !== 'minimap'">
          <a-entity class="buttons">
            <a-entity mixin="pageButton" position="0 0.55 0.02" event-set__click="_target: #image-360; _delay: 300; material.src: https://cdn.glitch.com/30c85152-7785-4a8c-8ec4-b836bad15a17%2Fqalqilya360.jpeg?v=1559224586978" bind-toggle__raycastable="menu === 'qalqilya'"></a-entity>
          </a-entity>
        </a-entity>
      
        <a-entity id="qalandiaMenu" mixin="minimap" material="shader: flat; src: #qalandia-menu" bind__visible="menu === 'qalandia' && background !== 'minimap'">
          <a-entity class="buttons">
              <a-entity mixin="pageButton" position="0 0.55 0.02" event-set__click="_target: #image-360; _delay: 300; material.src: https://cdn.glitch.com/30c85152-7785-4a8c-8ec4-b836bad15a17%2Fpano%20-%20Copy12.jpg?v=1560348609504" bind-toggle__raycastable="menu === 'qalandia'"></a-entity>
              <a-entity mixin="pageButton" position="1 0.25 0.02" event-set__click="_target: #image-360; _delay: 300; material.src: https://cdn.glitch.com/30c85152-7785-4a8c-8ec4-b836bad15a17%2Fpano%20-%20Copyss.jpg?v=1560348613488" bind-toggle__raycastable="menu === 'qalandia'"></a-entity>
              <a-entity mixin="pageButton" position="1 0.55 0.02" event-set__click="_target: #image-360; _delay: 300; material.src: https://cdn.glitch.com/30c85152-7785-4a8c-8ec4-b836bad15a17%2Fpano%20(1)%20(1).jpg?v=1560348615315" bind-toggle__raycastable="menu === 'qalandia'"></a-entity>
              <a-entity mixin="pageButton" position="0 0.25 0.02" event-set__click="_target: #image-360; _delay: 300; material.src: https://cdn.glitch.com/30c85152-7785-4a8c-8ec4-b836bad15a17%2Fpano%20-%20Copy233.jpg?v=1560348615779" bind-toggle__raycastable="menu === 'qalandia'"></a-entity>
          </a-entity>
        </a-entity>
       
        <a-entity id="telavivMenu" mixin="minimap" material="shader: flat; src: #tel-aviv-menu" bind__visible="menu === 'telaviv' && background !== 'minimap'">
          <a-entity class="buttons">
              <a-entity mixin="pageButton" position="0 0.55 0.02" event-set__click="_target: #image-360; _delay: 300; material.src: https://cdn.glitch.com/30c85152-7785-4a8c-8ec4-b836bad15a17%2Ftelaviv360.jpeg?v=1559224585616" bind-toggle__raycastable="menu === 'telaviv'"></a-entity>
          </a-entity>
        </a-entity>
      
       <a-entity id="kafrqaddamMenu" mixin="minimap" material="shader: flat; src: #kafr-qaddam-menu" bind__visible="menu === 'kafrqaddam' && background !== 'minimap'">
          <a-entity class="buttons">
              <!--<a-entity mixin="button" text="value: Bethlehem; opacity: 0" position="0 0.55 0.02" bind-toggle__raycastable="menu === 'bethlehem'"></a-entity>
              <a-entity mixin="button" text="value: Bethlehem2; opacity: 0" position="0 0.25 0.02"></a-entity>-->
          </a-entity>
        </a-entity>
      
       <a-entity id="jerusalemMenu" mixin="minimap" material="shader: flat; src: #jerusalem-menu" bind__visible="menu === 'jerusalem' && background !== 'minimap'">
          <a-entity class="buttons">
              <a-entity mixin="pageButton" position="0 0.55 0.02" event-set__click="_target: #image-360; _delay: 300; material.src: https://cdn.glitch.com/30c85152-7785-4a8c-8ec4-b836bad15a17%2Fpano%20-%20Copy.jpg?v=1560347961883" bind-toggle__raycastable="menu === 'jerusalem'"></a-entity>
              <a-entity mixin="pageButton" position="1 0.25 0.02" event-set__click="_target: #image-360; _delay: 300; material.src: https://cdn.glitch.com/30c85152-7785-4a8c-8ec4-b836bad15a17%2Fpano%20(1).jpg?v=1560347974633" bind-toggle__raycastable="menu === 'jerusalem'"></a-entity>
              <a-entity mixin="pageButton" position="1 0.55 0.02" event-set__click="_target: #image-360; _delay: 300; material.src: https://cdn.glitch.com/30c85152-7785-4a8c-8ec4-b836bad15a17%2FxQRN15QQ.jpeg?1559064913605" bind-toggle__raycastable="menu === 'jerusalem'"></a-entity>
              <a-entity mixin="pageButton" position="0 0.25 0.02" event-set__click="_target: #image-360; _delay: 300; material.src: https://cdn.glitch.com/30c85152-7785-4a8c-8ec4-b836bad15a17%2Fpano.jpg?v=1560347978205" bind-toggle__raycastable="menu === 'jerusalem'"></a-entity>
              <a-entity mixin="pageButton" position="0 0 0.02" event-set__click="_target: #image-360; _delay: 300; material.src: https://cdn.glitch.com/30c85152-7785-4a8c-8ec4-b836bad15a17%2Fpano75.jpg?v=1560347977817" bind-toggle__raycastable="menu === 'jerusalem'"></a-entity>
         </a-entity>
        </a-entity>
       
      
      
      
      <a-entity id="model" bind__visible="menu === 'main'" bind__raycastable="menu === 'main'"
            obj-model="obj: #mount-obj; mtl: #mount-mtl"
            scale="0.2 0.2 0.2" position="-7 1 0" rotation="0 90 0"
            animation="property: rotation; dur: 60000; from: 0 0 0; to: 0 360 0; loop: true; easing: linear"
            animation__mouseenter="property: scale; to: 0.3 0.3 0.3; dur: 100; startEvents: mouseenter"
            animation__mouseleave="property: scale; to: 0.2 0.2 0.2; dur: 100; startEvents: mouseleave"
            event-set__1="_event: click; _target: #image-360; _delay: 300; material.src: #quito"
            environment-changer>
      </a-entity>  
        
        <!-- Mouse cursor so we can click on the scene with mouse or touch-->
      
        <a-entity id="mouseCursor" cursor="rayOrigin: mouse" raycaster="objects: [raycastable]"></a-entity>
        <a-entity id="leftHand" laser-controls="hand: left" raycaster="objects: [raycastable]"></a-entity>
        <a-entity id="rightHand" laser-controls="hand: right" raycaster="objects: [raycastable]"></a-entity>
    
  </body> 
</html>
  
